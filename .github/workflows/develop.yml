name: Develop

on:
  workflow_call:
  workflow_dispatch:
  push:
    branches: [develop]

jobs:
  environment:
    name: Environment 
    secrets: inherit
    uses: dolorestec/devops/.github/workflows/prepare-environment.yml@develop

  validade:
    name: Validate
    needs: environment
    secrets: inherit
    uses: dolorestec/devops/.github/workflows/docker-validate.yml@develop

  release:
    name: Release
    needs: validade
    secrets: inherit
    uses: dolorestec/devops/.github/workflows/release-branch.yml@develop